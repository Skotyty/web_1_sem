<nav class="mt-3 d-flex justify-content-center">
    <ul class="pagination">
        {% if questions.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ questions.previous_page_number }}">Previous</a>
            </li>
        {% endif %}

    {#  Первая страница #}
        <li class="page-item {% if questions.number == 1 %}active{% endif %}">
            <a class="page-link" href="?page=1">1</a>
        </li>
    {# Страница, идущая перед текущей (если текущая страница не последняя и не предпоследняя) #}
        {% if questions.number > 2 and questions.number < questions.paginator.num_pages|add:-1 %}
            <li class="page-item">
                <a class="page-link" href="?page={{ questions.number|add:-1 }}">{{ questions.number|add:-1 }}</a>
            </li>
        {% endif %}

    {# Текущая страница (если не первая и не последняя) #}
        {% if questions.number != 1 and questions.number != questions.paginator.num_pages %}
            <li class="page-item active">
                <a class="page-link" href="?page={{ questions.number }}">{{ questions.number }}</a>
            </li>
        {% endif %}

    {# Страница, идущая после текущей (если текущая страница не предпоследняя) #}
        {% if questions.number < questions.paginator.num_pages|add:-1 %}
            <li class="page-item">
                <a class="page-link" href="?page={{ questions.number|add:1 }}">{{ questions.number|add:1 }}</a>
            </li>
        {% endif %}

    {# Последняя страница #}
        <li class="page-item {% if questions.number == questions.paginator.num_pages %}active{% endif %}">
            <a class="page-link" href="?page={{ questions.paginator.num_pages }}">{{ questions.paginator.num_pages }}</a>
        </li>

        {% if questions.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ questions.next_page_number }}">Next</a>
            </li>
        {% endif %}
    </ul>
</nav>
